import{c as t,d as z,u as C,a as O,r as o,j as e,X as f,A as n,R as S}from"./index-CuLUR7ue.js";import{C as g,U as m}from"./user-CLQm5Qt5.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=t("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=t("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=t("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=t("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=t("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=t("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=t("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=t("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=t("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=t("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),B=()=>{const{user:s,signOut:v}=z(),x=C(),N=O(),[d,l]=o.useState(!1),[h,c]=o.useState(!1),b=x.pathname.startsWith("/admin"),p=o.useRef(null);o.useEffect(()=>{const a=r=>{p.current&&!p.current.contains(r.target)&&c(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]),o.useEffect(()=>{l(!1),c(!1)},[x.pathname]),o.useEffect(()=>{const a=r=>{r.key==="Escape"&&(l(!1),c(!1))};return document.body.addEventListener("keydown",a),()=>document.body.removeEventListener("keydown",a)},[]);const k=()=>l(!d),w=()=>c(!h),M=()=>{v(),c(!1),N("/")},y=[{path:"/",label:"الرئيسية",icon:E,adminOnly:!1},{path:"/cart",label:"السلة",icon:$,adminOnly:!1},{path:"/orders",label:"طلباتي",icon:_,adminOnly:!1},{path:"/settings",label:"الإعدادات",icon:V,adminOnly:!1},{path:"/feedback",label:"التقييم",icon:j,adminOnly:!1},{path:"/admin",label:"الإدارة",icon:R,adminOnly:!0}].filter(a=>a.adminOnly?(s==null?void 0:s.role)==="admin":!0),u=[{label:"ملفي الشخصي",path:"/settings",icon:m},{label:"طلباتي",path:"/orders",icon:H},{label:"تقييم التطبيق",path:"/feedback",icon:j},{label:"المساعدة",path:"/help",icon:L},{label:"تسجيل الخروج",action:M,icon:A}];return e.jsxs("nav",{className:"bg-white shadow-md sticky top-0 z-50",children:[e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("button",{onClick:k,type:"button",className:"md:hidden inline-flex items-center justify-center p-2 rounded-md text-amber-700 hover:text-amber-900 hover:bg-amber-50 focus:outline-none","aria-controls":"mobile-menu","aria-expanded":d,children:[e.jsx("span",{className:"sr-only",children:"افتح القائمة الرئيسية"}),d?e.jsx(f,{className:"block h-6 w-6","aria-hidden":"true"}):e.jsx(I,{className:"block h-6 w-6","aria-hidden":"true"})]}),e.jsxs(n,{to:"/",className:"flex items-center space-x-2 rtl:space-x-reverse hover:opacity-90 transition-opacity mx-auto md:mx-0","aria-label":"الرئيسية",children:[e.jsx(g,{className:"h-8 w-8 text-amber-600"}),e.jsx("span",{className:"text-xl font-bold text-amber-900",children:"قهوة دمنهور"})]}),e.jsx("div",{className:"flex items-center",children:s?e.jsxs("div",{className:"relative",ref:p,children:[e.jsx("button",{onClick:w,className:"flex items-center space-x-2 rtl:space-x-reverse focus:outline-none","aria-label":"قائمة المستخدم","aria-expanded":h,children:e.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-100 border-2 border-amber-300 flex items-center justify-center",children:s.full_name?e.jsx("span",{className:"font-medium text-amber-800",children:s.full_name.charAt(0)}):e.jsx(m,{size:20,className:"text-amber-600"})})}),h&&e.jsxs("div",{className:"absolute left-0 mt-2 w-56 rounded-lg shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50 max-w-[calc(100vw-2rem)]",children:[e.jsxs("div",{className:"py-2 px-4 border-b border-gray-100",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:s.full_name||"مستخدم"}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:s.email||"بريد إلكتروني"})]}),e.jsx("div",{className:"py-1",children:u.map((a,r)=>e.jsxs(S.Fragment,{children:[a.path?e.jsxs(n,{to:a.path,className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-amber-50 hover:text-amber-800 group",onClick:()=>c(!1),children:[e.jsx(a.icon,{size:18,className:"mr-2 text-gray-500 group-hover:text-amber-600"}),a.label]}):e.jsxs("button",{onClick:a.action,className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-amber-50 hover:text-amber-800 group",children:[e.jsx(a.icon,{size:18,className:"mr-2 text-gray-500 group-hover:text-amber-600"}),a.label]}),r===u.length-2&&e.jsx("div",{className:"border-t border-gray-100 my-1"})]},a.label))})]})]}):e.jsxs(n,{to:"/auth",className:"bg-amber-600 text-white px-4 py-2 rounded-lg hover:bg-amber-700 transition-colors text-sm font-medium flex items-center",children:[e.jsx(m,{size:16,className:"ml-1"}),e.jsx("span",{children:"تسجيل الدخول"})]})}),e.jsx("div",{className:"hidden md:flex items-center space-x-1 rtl:space-x-reverse absolute left-1/2 transform -translate-x-1/2",children:y.map(a=>{const r=a.icon,i=x.pathname===a.path||a.path==="/admin"&&b;return e.jsxs(n,{to:a.path,className:`flex flex-col items-center p-2 rounded-lg transition-all duration-200 group ${i?"text-amber-800 font-medium":"text-gray-600 hover:text-amber-700"}`,"aria-current":i?"page":void 0,children:[e.jsx(r,{size:22,className:`transition-colors duration-200 ${i?"text-amber-700":"text-gray-500 group-hover:text-amber-600"}`}),e.jsx("span",{className:"text-xs mt-1",children:a.label})]},a.path)})})]})}),e.jsx("div",{className:`md:hidden fixed inset-0 z-40 bg-black bg-opacity-50 transition-opacity ${d?"opacity-100 visible":"opacity-0 invisible"}`,onClick:()=>l(!1),children:e.jsxs("div",{className:`absolute top-0 right-0 bottom-0 w-4/5 max-w-xs bg-white shadow-xl transform transition-transform duration-300 ${d?"translate-x-0":"translate-x-full"}`,onClick:a=>a.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxs(n,{to:"/",className:"flex items-center space-x-2 rtl:space-x-reverse",onClick:()=>l(!1),children:[e.jsx(g,{className:"h-8 w-8 text-amber-600"}),e.jsx("span",{className:"text-xl font-bold text-amber-900",children:"قهوة دمنهور"})]}),e.jsx("button",{onClick:()=>l(!1),className:"p-2 rounded-md text-gray-500 hover:text-gray-700 focus:outline-none",children:e.jsx(f,{size:24})})]}),e.jsxs("div",{className:"overflow-y-auto h-[calc(100vh-4rem)] pb-20",children:[e.jsx("div",{className:"py-4",children:y.map(a=>{const r=a.icon,i=x.pathname===a.path||a.path==="/admin"&&b;return e.jsxs(n,{to:a.path,className:`flex items-center px-6 py-3 text-lg ${i?"bg-amber-50 text-amber-800 font-medium border-r-4 border-amber-600":"text-gray-700 hover:bg-gray-50"}`,onClick:()=>l(!1),children:[e.jsx(r,{size:22,className:`mr-4 ${i?"text-amber-600":"text-gray-500"}`}),a.label]},a.path)})}),e.jsxs("div",{className:"mt-8 border-t border-gray-200 pt-4 px-6",children:[e.jsx("h3",{className:"text-xs uppercase tracking-wider text-gray-500 mb-4",children:"الحساب"}),s?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-amber-100 border-2 border-amber-300 flex items-center justify-center mr-3",children:s.full_name?e.jsx("span",{className:"font-medium text-amber-800 text-lg",children:s.full_name.charAt(0)}):e.jsx(m,{size:24,className:"text-amber-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:s.full_name||"مستخدم"}),e.jsx("p",{className:"text-sm text-gray-500",children:s.email||"بريد إلكتروني"})]})]}),e.jsx("div",{className:"space-y-1",children:u.map(a=>a.path?e.jsx(n,{to:a.path,className:"block py-3 px-4 rounded-lg hover:bg-gray-50 text-gray-700",onClick:()=>l(!1),children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(a.icon,{size:18,className:"ml-2 text-gray-500"}),a.label]})},a.label):e.jsx("button",{onClick:a.action,className:"w-full text-left py-3 px-4 rounded-lg hover:bg-gray-50 text-gray-700",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(a.icon,{size:18,className:"ml-2 text-gray-500"}),a.label]})},a.label))})]}):e.jsxs(n,{to:"/auth",className:"bg-amber-600 text-white px-4 py-3 rounded-lg font-medium flex items-center justify-center",onClick:()=>l(!1),children:[e.jsx(m,{size:18,className:"ml-2"}),"تسجيل الدخول"]})]})]})]})})]})};export{B as N,H as P,$ as S,_ as a,j as b};
